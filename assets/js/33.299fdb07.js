(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{636:function(t,s,e){"use strict";e.r(s);var a=e(7),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"小程序中的扫码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小程序中的扫码"}},[t._v("#")]),t._v(" 小程序中的扫码")]),t._v(" "),e("h2",{attrs:{id:"普通码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#普通码"}},[t._v("#")]),t._v(" 普通码")]),t._v(" "),e("ul",[e("li",[t._v("特点：不管从小程序内部还是使用微信扫一扫，扫出的结果都是一样的 类似"),e("code",[t._v("HTTP://CBG.PUB/G/L-LO$4YR:5H9B0:Z2Z2DR")])]),t._v(" "),e("li",[t._v("普通码的形态\n"),e("ul",[e("li",[t._v("就只有一种普通链接的形式： "),e("code",[t._v("HTTP://CBG.PUB/G/L-LO$4YR:5H9B0:Z2Z2DR")])])])])]),t._v(" "),e("h2",{attrs:{id:"u-码-微信一物一码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#u-码-微信一物一码"}},[t._v("#")]),t._v(" U 码（微信一物一码）")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("特点 ： 唯一性（每次扫码出来的 code_ticket 都不一样）")])]),t._v(" "),e("li",[e("p",[t._v("U 码的形态：")]),t._v(" "),e("ul",[e("li",[t._v("原始码形态："),e("code",[t._v("044GZ*J10")])]),t._v(" "),e("li",[t._v("普通码形态： "),e("code",[t._v("P.URL.CN/0ALL$V2QCNVRHYPO:K3")])]),t._v(" "),e("li",[t._v("二进制形态： "),e("code",[t._v("10010101100010010110011001010110101010100001010110100100111011110001")])])])]),t._v(" "),e("li",[e("p",[t._v("U 码扫出的结果")]),t._v(" "),e("ul",[e("li",[t._v("code_ticket\n"),e("ul",[e("li",[t._v("还需要拿"),e("code",[t._v("code_ticket")]),t._v("去换"),e("code",[t._v("原始code")])])])]),t._v(" "),e("li",[t._v("原始 code（9 位数字符）")])])])]),t._v(" "),e("h2",{attrs:{id:"扫码描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扫码描述"}},[t._v("#")]),t._v(" 扫码描述")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("使用"),e("code",[t._v("微信扫一扫")]),t._v("扫 U 码，扫出的结果为 code_ticket,通过参数的形式带入小程序。")]),t._v(" "),e("ol",[e("li",[t._v("前端取到 code_ticket 后，调取后台的接口，后台拿到 code_ticket 去调用微信接口去换 9 位字符原始码 code。")]),t._v(" "),e("li",[t._v("后端拿到原始码 code，再调微信接口，拿到扫码结果")])])]),t._v(" "),e("li",[e("p",[t._v("在"),e("code",[t._v("小程序内使用扫码")]),t._v("扫 U 码")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("如果是 U 码普通码形式"),e("code",[t._v("P.URL.CN/0ALL$V2QCNVRHYPO:K3")]),t._v(" 类似这种")]),t._v(" "),e("ol",[e("li",[t._v("在开发者工具中扫不出来，在真机中模拟，会在扫码结果的 path 中将"),e("code",[t._v("code_ticket")]),t._v("以参数的形式带在 url 后面\n"),e("ul",[e("li",[e("p",[t._v("例如：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" scanResult "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://P.URL.CN/0ALL$V2QCNVRHYPO:K3'")]),t._v("\n   path："),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/pages/index/index?code_ticket=920cfaedca912bf83e2370fe81d419b3'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])])])])])]),t._v(" "),e("li",[e("p",[t._v("如果 U 码 以原始码的形式或（二进制）形式展示的时候，扫出的结果 "),e("code",[t._v("044GZ*J10")]),t._v(" 类似这种九位数原始码")]),t._v(" "),e("ol",[e("li",[t._v("后台拿到原始 code，请求微信的扫码接口，返回扫码结果\n"),e("ul",[e("li",[e("p",[t._v("例如")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" scanResult "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"044GZ*J10"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//path：'/pages/index/index?code_ticket=920cfaedca912bf83e2370fe81d419b3' //扫出的结果 无这个字段")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])])])])])])])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);